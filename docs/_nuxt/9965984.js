(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1963:function(e,t,r){},2127:function(e,t,r){"use strict";r(1963)},2129:function(e,t,r){"use strict";r(65);var n,o=r(17),c=r(18),d=r(26),l=r(27),h=r(14),f=r(2),m=r(55),v=r(1804),y=r(1806);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var _=new(r.n(y).a),w=Object(m.a)({props:{show:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!0},bid:{type:Object,required:!0},btnTexts:{type:Object,required:!1,default:function(){return{title:"Confirm",loadingTitle:"Accepting..."}}},accept:{type:Function,required:!1,default:function(){}},close:{type:Function,required:!0}},components:{}})(n=function(e){Object(d.a)(r,e);var t=k(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,c=new Array(n),d=0;d<n;d++)c[d]=arguments[d];return(e=t.call.apply(t,[this].concat(c))).bg="#f3f4f7",e}return Object(c.a)(r,[{key:"mounted",value:function(){}},{key:"onImageLoad",value:function(){try{var img=this.$el.querySelector(".asset-img"),e=_.getColor(img);if(e){var t=Object(v.a)({r:e[0],g:e[1],b:e[2]});this.bg="hsl(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%)")}else this.bg="#f3f4f7"}catch(e){}}}]),r}(f.default))||n,x=w,O=(r(2127),r(23)),component=Object(O.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"section position-absolute"},[r("div",{directives:[{name:"bsl",rawName:"v-bsl",value:e.show,expression:"show"}],staticClass:"modal-backdrop",class:{show:e.show}}),e._v(" "),r("div",{staticClass:"modal add-token-modal-wrapper",class:{show:e.show}},[r("div",{staticClass:"modal-dialog w-sm-100 align-self-center",attrs:{role:"document"}},[r("div",{staticClass:"box accept-box"},[r("div",{staticClass:"box-body",style:{background:"linear-gradient( 180deg,"+e.bg+" 0%, rgba(236, 235, 223, 0) 80%)"}},[r("div",{staticClass:"close-wrapper",on:{click:function(t){return e.close()}}},[r("svg-sprite-icon",{staticClass:"close",attrs:{name:"close-modal"}})],1),e._v(" "),r("div",{staticClass:"container-fluid text-center"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12 ps-y-32"}),e._v(" "),r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"font-heading-large title font-semibold"},[e._v("\n                  "+e._s(e.bid.order.token.name)+"\n                ")]),e._v(" "),r("div",{staticClass:"font-body-medium last-offer ps-t-4"},[e._v("\n                  Highest offer is "+e._s(e.bid.order.highest_bid)+"\n                  "+e._s(e.bid.erc20Token.symbol)+"\n                ")])]),e._v(" "),r("div",{staticClass:"col-md-12 ps-y-32"},[r("div",{staticClass:"font-body-small short-descr"},[e._v("\n                  Offered for\n                ")]),e._v(" "),r("div",{staticClass:"amount font-heading-large font-semibold ps-t-4"},[e._v("\n                  "+e._s(e.bid.price)+" "+e._s(e.bid.erc20Token.symbol)+"\n                ")])]),e._v(" "),r("div",{staticClass:"col-md-12 ps-t-8 ps-b-40 ps-x-40"},[r("button-loader",{staticClass:"ml-auto",attrs:{loading:e.isLoading,loadingText:e.btnTexts.loadingTitle,text:e.btnTexts.title,block:"",lg:"",color:"primary",click:e.accept}})],1)])])])])])])])}),[],!1,null,"c26d7430",null);t.a=component.exports},2402:function(e,t,r){},2406:function(e,t,r){},2407:function(e,t,r){},3411:function(e,t,r){e.exports=r.p+"img/share.6aad56a.svg"},3416:function(e,t,r){"use strict";r(2402)},3421:function(e,t,r){"use strict";r(2406)},3422:function(e,t,r){"use strict";r(2407)},3429:function(e,t,r){"use strict";r.r(t);r(65);var n=r(17),o=r(18),c=r(26),d=r(27),l=r(14),h=r(2),f=r(55),m=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"btn btn-light align-self-center action ms-l-16"},[n("img",{staticClass:"icon option-icon active",attrs:{src:r(3411),alt:"favorited"}}),e._v(" "),n("span",[e._v("Share")])])}],v=(r(46),r(83),r(84),r(3)),y=r(34),k=(r(30),r(679),r(56),r(66),r(181),r(72)),_=r(8),w=r(67),x=r(281),O=r(80),C=r(13),T=r(81);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var A,B=new C.a(0),R=(new C.a(10),function(e){Object(c.a)(r,e);var t=j(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"getPrice",value:function(){var e=new C.a(this.price);return e&&this.erc20Token?Object(T.a)(e,this.erc20Token.decimal):B}}]),r}(O.a)),I=r(2412),D=r(2413),F=r(45),P=(r(68),r(74)),S=r(1),L=r.n(S),E=r(52),$=r.n(E),N=r(2129),M=r(228),U=(r(1974),r(1831));function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}function Y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Y(Object(source),!0).forEach((function(t){Object(y.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var X,J=r(1859),G=J.ContractWrappers,H=J.ERC721TokenContract,z=J.OrderStatus,K=r(1959),Q=K.generatePseudoRandomSalt,Z=K.signatureUtils,ee=r(332).BigNumber,te=r(1788).Web3Wrapper,re=Object(f.a)({props:{bid:{type:R,required:!0},refreshBids:{type:Function,required:!1,default:function(){}},isOwnersToken:{type:Boolean,required:!0}},components:{BidConfirmation:N.a},computed:W(W(W({},Object(w.b)("account",["account"])),Object(w.b)("auth",["user"])),Object(w.b)("network",["networks","networkMeta"]))})(A=function(e){Object(c.a)(w,e);var t,r,d,l,h,f,m,y=V(w);function w(){var e;Object(n.a)(this,w);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=y.call.apply(y,[this].concat(r))).showAcceptBid=!1,e.showDenyBid=!1,e.showCancelBid=!1,e.isLoading=!1,e.denyButtonTexts={title:"Deny",loadingTitle:"Denying..."},e.cancelButtonTexts={title:"Cancel",loadingTitle:"Cancelling..."},e}return Object(o.a)(w,[{key:"mounted",value:function(){}},{key:"isUsersBid",get:function(){return!(!this.user||!this.bid)&&this.user.id===this.bid.users.id}},{key:"shortChecksumAddress",get:function(){if(!this.bid.users.address)return null;var a=Object(P.toChecksumAddress)(this.bid.users.address);return"".concat(a.slice(0,6),"...").concat(a.slice(38,42))}},{key:"order",get:function(){return this.bid.order}},{key:"erc20Token",get:function(){return this.bid.erc20Token}},{key:"showAction",get:function(){return this.order.type===_.a.orderTypes.AUCTION}},{key:"isErc1155",get:function(){return"ERC1155"===this.order.token_type}},{key:"isErc721",get:function(){return"ERC721"===this.order.token_type}},{key:"timeRemaining",get:function(){var e=L()(this.bid.updated),t=L()(),r=L.a.duration(e.diff(t));return{days:Math.abs(r.days()),hours:Math.abs(r.hours()),mins:Math.abs(r.minutes()),secs:Math.abs(r.seconds())}}},{key:"remainingTimeinWords",get:function(){var e="";return this.timeRemaining&&(this.timeRemaining.days>0?e="".concat(this.timeRemaining.days," days"):this.timeRemaining.hours>0?e="".concat(this.timeRemaining.hours," hours"):this.timeRemaining.mins>0?e="".concat(this.timeRemaining.mins," mins"):this.timeRemaining.secs>0&&(e="".concat(this.timeRemaining.secs," seconds"))),e||"1 second"}},{key:"onAccept",value:function(){this.showAcceptBid=!0}},{key:"onAcceptClose",value:function(){this.showAcceptBid=!1}},{key:"onDeny",value:function(){this.showDenyBid=!0}},{key:"onDenyClose",value:function(){this.showDenyBid=!1}},{key:"onCancel",value:function(){this.showCancelBid=!0}},{key:"onCancelClose",value:function(){this.showCancelBid=!1}},{key:"acceptBid",value:(m=Object(v.a)(regeneratorRuntime.mark((function e(){var t,r,n,o,c,d,l,h,f,m,v,y,w,x,O,C,T,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$logger.track("accept-bid-start:bid-options",{order:this.bid.order.id,user:this.bid.users_id,erc20Token:this.bid.erc20Token}),this.isLoading=!0,this.order.taker_address!==this.user.id){e.next=77;break}if(e.prev=3,t=this.order.categories.categoriesaddresses[0].address,r=this.order.tokens_id,n=this.account.address,o=null,o=this.isErc1155?new ee(this.order.quantity):new ee(1),c=JSON.parse(this.bid.signature),d=new G(Object(U.a)(),{chainId:c.chainId}),c.makerAssetAmount=ee(c.makerAssetAmount),c.takerAssetAmount=o,c.expirationTimeSeconds=ee(c.expirationTimeSeconds),c.makerFee=ee(c.makerFee),c.salt=ee(c.salt),c.takerFee=ee(c.takerFee),l=null,!this.isErc721){e.next=31;break}return l=new H(t,Object(U.a)()),e.next=22,l.ownerOf(new ee(r)).callAsync();case 22:if(e.sent.toLowerCase()===this.account.address.toLowerCase()){e.next=29;break}return Object(M.c)(null,"You are no owner of this token","You are no longer owner of this token, refresh to update the data"),this.isLoading=!1,this.onAcceptClose(),e.abrupt("return");case 29:e.next=33;break;case 31:h=new $.a(this.networks.matic.rpc),l=new h.eth.Contract(this.networkMeta.abi("ChildERC1155","pos"),t);case 33:return this.$logger.track("accept-bid-approve-start:bid-options"),e.next=36,this.approve0x(l,d,n);case 36:if(e.sent){e.next=41;break}return this.$logger.track("accept-bid-not-approved:bid-options"),this.isLoading=!1,e.abrupt("return");case 41:return this.$logger.track("accept-bid-approved:bid-options"),e.next=44,d.devUtils.getOrderRelevantState(c,c.signature).callAsync();case 44:if(f=e.sent,m=Object(F.a)(f,3),v=m[0],y=v.orderStatus,w=v.orderHash,x=m[1],O=m[2],this.$logger.track("accept-bid-order-validation:bid-options",{orderStatus:y,remainingFillableAmount:x,isValidSignature:O}),console.log("is fillable",{orderStatus:y,orderHash:w,remainingFillableAmount:x,isValidSignature:O,fill:z.Fillable}),y!==z.Fillable||!x.isGreaterThan(0)||!O){e.next=71;break}return console.log("Fillable"),this.$logger.track("accept-bid-fill-order:bid-options"),e.next=58,Object(k.a)().get("orders/exchangedata/encodedbid?bidId=".concat(this.bid.id,"&functionName=fillOrder"));case 58:return C=e.sent,this.$logger.track("accept-bid-fill-order-complete:bid-options"),T={salt:Q(),expirationTimeSeconds:c.expirationTimeSeconds,gasPrice:_.a.uiconfig.TX_DEFAULTS.gasPrice,signerAddress:n,data:C.data.data,domain:{name:"0x Protocol",version:"3.0.0",chainId:this.networks.matic.chainId,verifyingContract:d.contractAddresses.exchange}},this.$logger.track("accept-metamask-sign-start:bid-options"),e.next=64,Z.ecSignTransactionAsync(Object(U.a)(),T,n);case 64:if(j=e.sent,this.$logger.track("accept-metamask-sign-complete:bid-options"),!j){e.next=71;break}return this.$logger.track("handle-bid-accept-sign:bid-options"),e.next=70,this.handleBidAccept(j);case 70:this.$logger.track("bid-accept-sign-completed:bid-options");case 71:e.next=77;break;case 73:e.prev=73,e.t0=e.catch(3),console.error(e.t0),Object(M.c)(e.t0,null,"Something went wrong");case 77:this.isLoading=!1,this.onAcceptClose();case 79:case"end":return e.stop()}}),e,this,[[3,73]])}))),function(){return m.apply(this,arguments)})},{key:"handleBidAccept",value:(f=Object(v.a)(regeneratorRuntime.mark((function e(t){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.bid.users.id===this.user.id||!t){e.next=12;break}return e.prev=1,data={taker_signature:JSON.stringify(t)},e.next=5,Object(k.a)().patch("orders/".concat(this.bid.id,"/execute"),data);case 5:200===e.sent.status&&(_.a.addToast("Accepted successfully","You accepted the bid for your order",{type:"success"}),this.$router.push({name:"account"})),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:this.$store.dispatch("category/fetchCategories");case 12:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return f.apply(this,arguments)})},{key:"approve0x",value:(h=Object(v.a)(regeneratorRuntime.mark((function e(t,r,n){var o,c,d,l,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=this.order.categories.categoriesaddresses[0].address,!this.isErc721){e.next=8;break}return e.next=5,t.isApprovedForAll(n,r.contractAddresses.erc721Proxy).callAsync();case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,t.methods.isApprovedForAll(n,r.contractAddresses.erc1155Proxy).call();case 10:o=e.sent;case 11:if(console.log("Approving 1",o),o){e.next=43;break}return e.next=15,this.metamaskValidation();case 15:if(e.sent){e.next=18;break}return this.approveLoading=!1,e.abrupt("return",!1);case 18:if(!this.isErc721){e.next=31;break}return console.log("Approving 2",{isApprovedForAll:o,tokenContract:t,erc721Proxy:r.contractAddresses.erc721Proxy,makerAddress:n}),e.next=22,t.setApprovalForAll(r.contractAddresses.erc721Proxy,!0).sendTransactionAsync({from:n,gas:1e5});case 22:if(d=e.sent,console.log("Approving 2"),!d){e.next=28;break}return console.log("Approve Hash",d),_.a.addToast("Approved","You successfully approved",{type:"success"}),e.abrupt("return",!0);case 28:Object(M.c)(error,"Failed to approve","You need to approve the transaction to sale the NFT"),e.next=43;break;case 31:return l=new $.a(window.ethereum),h=new l.eth.Contract(this.networkMeta.abi("ChildERC1155","pos"),c),console.log("Approving 2",{isApprovedForAll:o,tokenContract:h,erc1155Proxy:r.contractAddresses.erc1155Proxy,makerAddress:n}),e.next=36,h.setApprovalForAll(r.contractAddresses.erc1155Proxy,!0).send({from:n,gas:1e5});case 36:if(f=e.sent,console.log("Approving 2"),!f){e.next=42;break}return console.log("Approve Hash",f),_.a.addToast("Approved","You successfully approved",{type:"success"}),e.abrupt("return",!0);case 42:Object(M.c)(error,"Failed to approve","You need to approve the transaction to sale the NFT");case 43:return e.abrupt("return",!0);case 46:throw e.prev=46,e.t0=e.catch(0),e.t0;case 50:case"end":return e.stop()}}),e,this,[[0,46]])}))),function(e,t,r){return h.apply(this,arguments)})},{key:"denyBid",value:(l=Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$logger.track("deny-bid-start:bid-options",{order:this.bid.order.id,user:this.bid.users_id,erc20Token:this.bid.erc20Token}),this.bid.order.taker_address!==this.user.id){e.next=13;break}return e.prev=2,e.next=5,Object(k.a)().patch("orders/bid/".concat(this.bid.id,"/cancel"));case 5:200===e.sent.status&&(this.$logger.track("deny-bid-success:bid-options"),_.a.addToast("Bid declined successfully","You declined bid successfully",{type:"success"}),this.refreshBids()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),Object(M.c)(e.t0,null,"Something went wrong");case 13:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(){return l.apply(this,arguments)})},{key:"cancelBid",value:(d=Object(v.a)(regeneratorRuntime.mark((function e(){var t,r,n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLoading=!0,this.$logger.track("cancel-bid-start:bid-options",{order:this.bid.order.id,user:this.bid.users_id,erc20Token:this.bid.erc20Token}),e.prev=2,this.order.type!==_.a.orderTypes.NEGOTIATION){e.next=32;break}return t=JSON.parse(this.bid.signature),r=te.toBaseUnitAmount(new ee(this.bid.price),this.erc20Token.decimal),t.makerAssetAmount=ee(t.makerAssetAmount),t.takerAssetAmount=r,t.expirationTimeSeconds=ee(t.expirationTimeSeconds),t.makerFee=ee(t.makerFee),t.salt=ee(t.salt),t.takerFee=ee(t.takerFee),n=this.networks.matic.chainId,o=new G(Object(U.a)(),{chainId:n}),this.$logger.track("cancel-bid-api-cancel-order:bid-options"),e.next=17,Object(k.a)().get("orders/exchangedata/encodedbid?bidId=".concat(this.bid.id,"&functionName=cancelOrder"));case 17:return c=e.sent,this.$logger.track("cancel-bid-api-cancel-order-completed:bid-options"),d={salt:Q(),expirationTimeSeconds:t.expirationTimeSeconds,gasPrice:_.a.uiconfig.TX_DEFAULTS.gasPrice,signerAddress:t.makerAddress,data:c.data.data,domain:{name:"0x Protocol",version:"3.0.0",chainId:this.networks.matic.chainId,verifyingContract:o.contractAddresses.exchange}},this.$logger.track("cancel-bid-metamask-start:bid-options"),e.next=23,Z.ecSignTransactionAsync(Object(U.a)(),d,t.makerAddress);case 23:if(l=e.sent,this.$logger.track("cancel-bid-metamask-complete:bid-options"),!l){e.next=30;break}return this.$logger.track("handle-cancel-bid-start-taker-sign:bid-options"),e.next=29,this.handleCancelBid(l);case 29:this.$logger.track("handle-cancel-bid-completed-taker-sign:bid-options");case 30:e.next=36;break;case 32:return this.$logger.track("handle-cancel-bid-start:bid-options"),e.next=35,this.handleCancelBid();case 35:this.$logger.track("handle-cancel-bid-completed:bid-options");case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(2),console.log(e.t0);case 41:this.isLoading=!1,this.onCancelClose();case 43:case"end":return e.stop()}}),e,this,[[2,38]])}))),function(){return d.apply(this,arguments)})},{key:"handleCancelBid",value:(r=Object(v.a)(regeneratorRuntime.mark((function e(t){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.bid.users.id!==this.user.id||!t){e.next=13;break}return e.prev=1,data={taker_signature:JSON.stringify(t)},e.next=5,Object(k.a)().patch("orders/bid/".concat(this.bid.id,"/cancel"),data);case 5:200===e.sent.status&&(_.a.addToast("Bid cancelled successfully","You cancelled your bid successfully",{type:"success"}),this.refreshBids()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),Object(M.c)(e.t0,null,"Something went wrong");case 13:this.$store.dispatch("category/fetchCategories");case 14:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return r.apply(this,arguments)})},{key:"metamaskValidation",value:(t=Object(v.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new $.a(window.ethereum),e.next=3,t.eth.getChainId();case 3:if(e.sent===this.networks.matic.chainId){e.next=7;break}return this.error="selectMatic",e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),w}(h.default))||A,se=re,ne=(r(3416),r(23)),ae=Object(ne.a)(se,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-md-12 d-flex ps-x-0 ms-y-8"},[r("div",{staticClass:"d-flex align-self-center bidder-wrapper ps-y-24"},[r("svg-sprite-icon",{staticClass:"profile-logo align-self-center",attrs:{name:"profile"}}),e._v(" "),r("div",{staticClass:"d-flex message flex-column align-self-center ps-x-16 ps-l-md-0 ps-r-md-16"},[r("div",{staticClass:"font-body-small"},[e._v("\n        Bid by\n        "),r("a",{staticClass:"account-name",attrs:{href:"",title:e.bid.users.address},on:{click:function(e){e.preventDefault()}}},[e._v(e._s(e.shortChecksumAddress))])]),e._v(" "),r("div",{staticClass:"font-caption text-gray-300"},[e._v("\n        "+e._s(e.remainingTimeinWords)+" ago\n      ")])]),e._v(" "),r("div",{staticClass:"d-flex ml-auto ms-r-16 ps-t-16 ps-t-sm-0"},[r("div",{staticClass:"ps-y-12 ps-x-16"},[r("span",{staticClass:"ps-y-8 ps-x-16 font-body-small font-medium price-pill text-nowrap"},[e._v(e._s(e.bid.price)+" "+e._s(e.bid.erc20Token.symbol))])]),e._v(" "),e.isUsersBid&&0===this.bid.order.status?r("button",{staticClass:"btn btn-light btn-deny align-self-center ms-r-12 ps-x-16",on:{click:function(t){return e.onCancel()}}},[e._v("\n        Cancel\n      ")]):e._e(),e._v(" "),e.isOwnersToken&&0===this.bid.order.status?r("button",{staticClass:"btn btn-light btn-deny align-self-center ms-r-12 ps-x-16",on:{click:function(t){return e.onDeny()}}},[e._v("\n        Deny\n      ")]):e._e(),e._v(" "),e.isOwnersToken&&0===this.bid.order.status?r("button",{staticClass:"btn btn-light align-self-center ps-x-16",on:{click:function(t){return e.onAccept()}}},[e._v("\n        Accept\n      ")]):e._e()])],1),e._v(" "),r("bid-confirmation",{attrs:{show:e.showAcceptBid,bid:e.bid,isLoading:e.isLoading,accept:e.acceptBid,close:e.onAcceptClose}}),e._v(" "),r("bid-confirmation",{attrs:{show:e.showDenyBid,bid:e.bid,isLoading:e.isLoading,accept:e.denyBid,close:e.onDenyClose,btnTexts:e.denyButtonTexts}}),e._v(" "),r("bid-confirmation",{attrs:{show:e.showCancelBid,bid:e.bid,isLoading:e.isLoading,accept:e.cancelBid,close:e.onCancelClose,btnTexts:e.cancelButtonTexts}})],1)}),[],!1,null,"bed13e9e",null).exports,ie=r(2411),oe=r(2414),ce=r(2011),de=r(1804),le=r(1806);function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}function pe(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function he(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?pe(Object(source),!0).forEach((function(t){Object(y.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):pe(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var fe,be=new(r.n(le).a),ge=["gif","png","svg","jpg","jpeg"],me=r(1859).ContractWrappers,ve=r(1959),ye=ve.generatePseudoRandomSalt,ke=ve.signatureUtils,_e=r(332).BigNumber,we=r(1788).Web3Wrapper,xe=Object(f.a)({props:{tokenId:{type:[Number,String],required:!1}},components:{TokenShortInfo:I.a,WishlistButton:D.a,BidderRow:ae,BuyToken:ie.a,CancelConfirm:oe.a,DepositWeth:ce.a},computed:he(he(he(he(he({},Object(w.b)("category",["categories"])),Object(w.b)("token",["erc20Tokens"])),Object(w.b)("account",["account","favouriteOrders"])),Object(w.b)("auth",["user"])),Object(w.b)("network",["networks"])),middleware:[],mixins:[],data:function(){return{depositModal:!1}},methods:{closeDepositModal:function(){this.depositModal=!1}}})(X=function(e){Object(c.a)(w,e);var t,r,d,l,h,f,m,y=ue(w);function w(){var e;Object(n.a)(this,w);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=y.call.apply(y,[this].concat(r))).bg="#ffffff",e.showMore=!1,e.showCategoryInfo=!0,e.showProperties=!0,e.showBuyToken=!1,e.showCancelConfirm=!1,e.limit=_.a.uiconfig.defaultPageSize,e.bidsFullList=[],e.hasNextPage=!0,e.isLoadingBids=!1,e.isLoadingDetails=!1,e.isLoading=!1,e.isNotVideoFormat=!1,e.order={},e}return Object(o.a)(w,[{key:"mounted",value:(m=Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrder();case 2:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"onImageLoad",value:function(){try{var img=this.$el.querySelector(".asset-img"),e=be.getColor(img);if(e){var t=Object(de.a)({r:e[0],g:e[1],b:e[2]});this.bg="hsl(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%)")}else this.bg="#ffffff"}catch(e){}}},{key:"orderDescription",get:function(){return this.order.token.description}},{key:"category",get:function(){var e=this;return this.categories.filter((function(t){return t.id===e.order.categories_id}))[0]}},{key:"isErc1155",get:function(){return"ERC1155"===this.order.token_type}},{key:"isErc721",get:function(){return"ERC721"===this.order.token_type}},{key:"app",get:function(){return _.a}},{key:"isUser",get:function(){return this.user}},{key:"isInsufficientBalance",get:function(){return this.user&&!this.isOwnersToken}},{key:"erc20Token",get:function(){var e=this;return this.erc20Tokens.filter((function(t){return t.id===e.order.erc20tokens_id}))[0]}},{key:"isFavorite",get:function(){var e=this;return!(!this.user||!this.favouriteOrders)&&0!==this.favouriteOrders.filter((function(t){return t.order_id===e.order.id})).length}},{key:"isFavoriteId",get:function(){var e=this;return!(!this.user||!this.favouriteOrders)&&this.favouriteOrders.filter((function(t){return t.order_id===e.order.id}))[0].id}},{key:"isOwnersToken",get:function(){return this.user&&this.order.type!==_.a.orderTypes.FIXED?this.user.id===this.order.taker_address:!(!this.user||this.order.type!==_.a.orderTypes.FIXED)&&this.user.id===this.order.maker_address}},{key:"buttonVal",get:function(){return this.order.type===_.a.orderTypes.FIXED?"Buy Now":"Place a Bid"}},{key:"validation",get:function(){return{balance:this.erc20Token.balance.gte(this.order.min_price)}}},{key:"showListedDetails",get:function(){return!(3===this.order.status)}},{key:"openseaUrl",get:function(){return"https://opensea.io/assets/matic/".concat(this.order.categories.categoriesaddresses[0].address,"/").concat(this.order.tokens_id)}},{key:"fetchOrder",value:(f=Object(v.a)(regeneratorRuntime.mark((function e(){var t,data,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.tokenId&&!this.isLoadingDetails){e.next=2;break}return e.abrupt("return");case 2:return this.isLoadingDetails=!0,e.prev=3,e.next=6,Object(k.a)().get("orders/".concat(this.tokenId));case 6:if(200!==(t=e.sent).status||!t.data.data){e.next=12;break}data=new x.a(t.data.data),this.order=data,e.next=23;break;case 12:if(202!==t.status||!t.data.data){e.next=23;break}if(r=new x.a(t.data.data),n=r.seller_users.address,this.order=r,this.account.address!==n){e.next=19;break}e.next=23;break;case 19:return e.next=21,Object(k.a)().post("orders/validate",{orderId:this.tokenId});case 21:200===e.sent.status&&(Object(M.c)("Order Invalid","Order Invalid","This order is no longer valid or has been sold out. Please try to buy some other NFT."),this.$router.push({name:"index"}));case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(3),console.log(e.t0);case 28:if(this.isLoadingDetails=!1,0===Object.keys(this.order).length||this.order.type===_.a.orderTypes.FIXED){e.next=32;break}return e.next=32,this.fetchBidders();case 32:case"end":return e.stop()}}),e,this,[[3,25]])}))),function(){return f.apply(this,arguments)})},{key:"buyOrder",value:function(){this.user?this.showBuyToken=!0:this.$router.push({name:"login",query:{next:"/tokens/".concat(this.order.id)}})}},{key:"onBuyTokenClose",value:function(){this.showBuyToken=!1}},{key:"onCancelOrder",value:function(){this.showCancelConfirm=!0}},{key:"onCancelOrderClose",value:function(){this.showCancelConfirm=!1}},{key:"imageLoadError",value:function(e){e.target.src=this.category.img_url,e.target.style.width="100px"}},{key:"checkImageFormat",value:function(e){var t=e.substr(e.lastIndexOf(".")+1);return!!ge.includes(t)}},{key:"handleNotVideo",value:function(){var e=this,image=new Image;image.src=this.order.token.img_url,image.onload=function(){e.isNotVideoFormat=!0},image.onerror=function(){var image=document.createElement("img");image.src=e.category.img_url,document.querySelector(".feature-image").appendChild(image),image.style.width="200px",image.style.height="200px",image.classList.add("asset-img","align-self-center"),document.getElementsByTagName("VIDEO")[0].style.display="none"}}},{key:"cancelOrder",value:(h=Object(v.a)(regeneratorRuntime.mark((function e(){var t,r,n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLoading=!0,e.prev=1,this.order.type!==_.a.orderTypes.FIXED){e.next=25;break}return t=JSON.parse(this.order.signature),r=we.toBaseUnitAmount(new _e(this.order.price),this.erc20Token.decimal),t.makerAssetAmount=_e(t.makerAssetAmount),t.takerAssetAmount=r,t.expirationTimeSeconds=_e(t.expirationTimeSeconds),t.makerFee=_e(t.makerFee),t.salt=_e(t.salt),t.takerFee=_e(t.takerFee),n=this.networks.matic.chainId,o=new me(Object(U.a)(),{chainId:n}),e.next=15,Object(k.a)().get("orders/exchangedata/encoded?orderId=".concat(this.order.id,"&functionName=cancelOrder"));case 15:return c=e.sent,d={salt:ye(),expirationTimeSeconds:t.expirationTimeSeconds,gasPrice:_.a.uiconfig.TX_DEFAULTS.gasPrice,signerAddress:t.makerAddress,data:c.data.data,domain:{name:"0x Protocol",version:"3.0.0",chainId:this.networks.matic.chainId,verifyingContract:o.contractAddresses.exchange}},e.next=19,ke.ecSignTransactionAsync(Object(U.a)(),d,t.makerAddress);case 19:if(!(l=e.sent)){e.next=23;break}return e.next=23,this.handleCancelOrder(l);case 23:e.next=27;break;case 25:return e.next=27,this.handleCancelOrder();case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(1),console.log(e.t0);case 32:this.isLoading=!1,this.onCancelOrderClose();case 34:case"end":return e.stop()}}),e,this,[[1,29]])}))),function(){return h.apply(this,arguments)})},{key:"handleCancelOrder",value:(l=Object(v.a)(regeneratorRuntime.mark((function e(){var t,data,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,data={},t&&(data={taker_signature:JSON.stringify(t)}),e.prev=3,e.next=6,Object(k.a)().patch("orders/".concat(this.order.id,"/cancel"),data);case 6:200===e.sent.status&&(this.$router.push({name:"account"}),_.a.addToast("Order canceled","You canceled the order successfully",{type:"success"})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),Object(M.c)(e.t0,null,"Something went wrong");case 14:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return l.apply(this,arguments)})},{key:"addToWishlist",value:(d=Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.isFavorite){e.next=7;break}return e.next=4,Object(k.a)().delete("users/favourites/".concat(this.isFavoriteId));case 4:e.sent,e.next=10;break;case 7:return e.next=9,Object(k.a)().post("users/favourites",{orderId:this.order.id});case 9:e.sent;case 10:this.$store.dispatch("account/fetchFavoritesOrders"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),401===e.t0.response.status&&_.a.addToast("Signin to add to favourites","You need to login to add token to wishlist",{type:"info"});case 16:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(){return d.apply(this,arguments)})},{key:"refreshBids",value:(r=Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchBidders();case 2:return e.next=4,this.fetchOrder();case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"fetchBidders",value:(t=Object(v.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoadingBids&&this.order.type!==_.a.orderTypes.FIXED){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(k.a)().get("orders/bids/".concat(this.order.id));case 5:200===(t=e.sent).status&&t.data.data.order&&(r=[],t.data.data.order.forEach((function(e){e.erc20Token=this.erc20Token,e.order=this.order,0===e.status&&r.push(new R(e))}),this),this.hasNextPage=t.data.data.has_next_page,this.bidsFullList=r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(){return t.apply(this,arguments)})}]),w}(h.default))||X,Oe=xe,Ce=(r(3421),Object(ne.a)(Oe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.order.id&&!e.isLoadingDetails?n("div",{staticClass:"container-fluid ps-y-16"},[n("div",{staticClass:"row ps-y-16 ps-x-md-16 justify-content-between"},[n("div",{staticClass:"col-md-7 d-flex"},[e.category?n("token-short-info",{staticClass:"align-self-center",attrs:{order:e.order,category:e.category}}):e._e()],1),e._v(" "),e._e(),e._v(" "),n("a",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:"View on OpenSea",expression:"'View on OpenSea'",modifiers:{left:!0}}],staticClass:"align-self-center ps-x-16 ps-x-md-0",attrs:{href:e.openseaUrl,rel:"noopener noreferrer",target:"_blank"}},[n("img",{staticClass:"opensea-icon ps-r-16",attrs:{src:r(2399),alt:"OS"}})])]),e._v(" "),n("div",{staticClass:"row ps-y-16 ps-x-md-16 justify-content-center"},[n("div",{staticClass:"col-md-8 h-100"},[n("div",{staticClass:"feature-image d-flex d-lg-flex justify-content-center mb-4",style:{background:e.bg}},[e.checkImageFormat(e.order.token.img_url)||e.isNotVideoFormat?n("img",{staticClass:"asset-img align-self-center",attrs:{src:e.order.token.img_url,alt:"Token Image"},on:{load:e.onImageLoad,error:e.imageLoadError}}):n("video",{attrs:{autoplay:"",muted:"",loop:"",height:"500px",poster:e.order.token.img_url},domProps:{muted:!0}},[n("source",{attrs:{src:e.order.token.img_url,type:"video/webm"}}),e._v(" "),n("source",{attrs:{src:e.order.token.img_url,type:"video/ogg"}}),e._v(" "),n("source",{attrs:{src:e.order.token.img_url,type:"video/mp4"},on:{error:e.handleNotVideo}})])]),e._v(" "),n("div",{staticClass:"feature-info mobile d-flex d-lg-none flex-column ps-16 ps-lg-40 ms-y-16"},[n("h3",{staticClass:"font-heading-medium font-semibold"},[e._v("\n            About "+e._s(e.order.token.name)+"\n            "+e._s(e.isErc1155?"( "+e.order.quantity+" )":"")+"\n          ")]),e._v(" "),e.orderDescription&&e.orderDescription.length>200?n("p",{staticClass:"font-body-medium",class:{"show-less":e.showMore,"show-more":!e.showMore}},[e._v("\n            "+e._s(e.orderDescription.slice(0,e.orderDescription.length/2))+"\n            "),n("span",{staticClass:"dots"},[e._v("...")]),e._v(" "),n("span",{staticClass:"more"},[e._v(e._s(e.orderDescription.slice(e.orderDescription.length/2,e.orderDescription.length)))]),e._v(" "),e.showMore?e._e():n("a",{staticClass:"font-body-small d-flex ps-t-8 font-medium",attrs:{href:"#more-info"},on:{click:function(t){t.preventDefault(),e.showMore=!0}}},[e._v("More info")]),e._v(" "),e.showMore?n("a",{staticClass:"font-body-small d-flex ps-t-8 font-medium",attrs:{href:"#more-info"},on:{click:function(t){t.preventDefault(),e.showMore=!1}}},[e._v("Show less")]):e._e()]):n("p",{staticClass:"font-body-medium"},[e._v("\n            "+e._s(e.orderDescription)+"\n          ")]),e._v(" "),e.showListedDetails?n("div",{staticClass:"ms-t-16"},[n("div",{staticClass:"font-body-small text-gray-300 ps-y-4"},[e._v("\n              Listed for\n            ")]),e._v(" "),e.erc20Token?n("div",{staticClass:"font-heading-large font-semibold ps-b-16"},[e._v("\n              "+e._s(e.order.price)+" "+e._s(e.erc20Token.symbol)+"\n            ")]):e._e(),e._v(" "),e.order.type===e.app.orderTypes.NEGOTIATION?n("div",{staticClass:"font-body-medium ps-b-20"},[e._v("\n              Minimum Price:\n              "),n("span",{staticClass:"font-semibold"},[e._v("\n                "+e._s(e.order.min_price)+" "+e._s(e.erc20Token.symbol)+"\n              ")])]):e._e(),e._v(" "),e.order.type===e.app.orderTypes.NEGOTIATION&&e.order.highest_bid?n("div",{staticClass:"font-body-medium ps-b-20"},[e._v("\n              Last Offer:\n              "),n("span",{staticClass:"font-semibold"},[e._v("\n                "+e._s(e.order.highest_bid)+" "+e._s(e.erc20Token.symbol)+"\n              ")])]):e._e()]):e._e(),e._v(" "),e.isOwnersToken||0!==e.order.status?e._e():n("button",{staticClass:"btn btn-primary",attrs:{disabled:e.isUser&&!e.validation.balance},on:{click:function(t){return e.buyOrder()}}},[e._v("\n            "+e._s(e.buttonVal)+"\n          ")]),e._v(" "),e.isInsufficientBalance&&!e.validation.balance&&0===e.order.status?n("div",{staticClass:"font-body-small text-danger text-center ps-t-12"},[e._v("\n            You have insufficient balance in your account\n          ")]):e._e(),e._v(" "),!e.isInsufficientBalance||0!==e.order.status||e.order.type!==e.app.orderTypes.FIXED&&e.validation.balance?e._e():n("div",{staticClass:"font-body-medium font-semibold text-primary text-center cursor-pointer ps-t-16",on:{click:function(t){e.depositModal=!0}}},[e._v("\n            Add Funds\n          ")]),e._v(" "),e.isOwnersToken&&0===e.order.status?n("button",{staticClass:"btn btn-light",on:{click:function(t){return e.onCancelOrder()}}},[e._v("\n            Cancel\n          ")]):e._e()]),e._v(" "),n("div",{staticClass:"details-section"},[e.category?n("div",{staticClass:"d-flex flex-column details-section--dropdown"},[n("div",{staticClass:"header-wrapper cursor-pointer py-4 ps-l-16",on:{click:function(t){e.showCategoryInfo=!e.showCategoryInfo}}},[n("h3",{staticClass:"font-heading-medium font-semibold category m-0"},[e._v("\n                About "+e._s(e.category.name)+"\n                "),n("a",{staticClass:"ps-l-12",attrs:{href:e.category.url,target:"_blank",rel:"noopener noreferrer"}},[e._v("Visit Website")]),e._v(" "),e.category.description?n("span",{staticClass:"float-right right-arrow",class:{"down-icon":e.showCategoryInfo}},[n("svg-sprite-icon",{attrs:{name:"right-arrow"}})],1):e._e()])]),e._v(" "),e.showCategoryInfo&&e.category.description?n("p",{staticClass:"font-body-medium ps-t-20 ps-l-16"},[e._v("\n              "+e._s(e.category.description)+"\n            ")]):e._e()]):e._e(),e._v(" "),e.order.token.attributes_metadata?n("div",{staticClass:"properties details-section--dropdown"},[n("div",{staticClass:"header-wrapper cursor-pointer py-4 ps-l-16",on:{click:function(t){e.showProperties=!e.showProperties}}},[n("h3",{staticClass:"font-heading-medium font-semibold m-0"},[e._v("\n                Properties\n                "),n("span",{staticClass:"float-right right-arrow",class:{"down-icon":e.showProperties}},[n("svg-sprite-icon",{attrs:{name:"right-arrow"}})],1)])]),e._v(" "),e.showProperties?n("div",{staticClass:"d-flex flex-row flex-wrap ps-t-16 ps-l-16"},e._l(e.order.token.attributes_metadata,(function(t){return n("div",{key:t.trait_type+"-"+t.value,staticClass:"col-md-3 p-0 pr-4 justify-content-between"},[n("div",{staticClass:"d-flex flex-column text-center properties-pill p-3 mb-4"},[n("p",{staticClass:"property-title m-0 p-0 text-truncate"},[e._v("\n                    "+e._s(e._f("pascal")(t.trait_type))+"\n                  ")]),e._v(" "),n("p",{staticClass:"property-detail m-0 pt-1 text-truncate"},["birthday"===t.trait_type?[e._v("\n                      "+e._s(e._f("date-human")(t.value))+"\n                    ")]:[e._v("\n                      "+e._s(e._f("pascal")(t.value))+"\n                    ")]],2)])])})),0):e._e()]):e._e(),e._v(" "),e.order.type!==e.app.orderTypes.FIXED&&e.bidsFullList&&e.bidsFullList.length?n("div",{staticClass:"d-flex flex-column ps-y-16 ps-y-md-32 bids"},[n("h3",{staticClass:"font-heading-medium font-semibold category"},[e._v("\n              Bidding history\n            ")]),e._v(" "),n("p",{staticClass:"font-body-medium ps-t-20"},e._l(e.bidsFullList,(function(t){return n("bidder-row",{key:t.id,attrs:{bid:t,refreshBids:e.refreshBids,isOwnersToken:e.isOwnersToken}})})),1)]):e._e()])]),e._v(" "),n("div",{staticClass:"col-md-4 d-none d-lg-flex h-100"},[n("div",{staticClass:"feature-info d-flex flex-column ps-16 ps-lg-40 w-100"},[n("h3",{staticClass:"font-heading-medium font-semibold"},[e._v("\n            About "+e._s(e.order.token.name)+"\n            "+e._s(e.isErc1155?"( "+e.order.quantity+" )":"")+"\n          ")]),e._v(" "),e.orderDescription&&e.orderDescription.length>200?n("p",{staticClass:"font-body-medium",class:{"show-less":e.showMore,"show-more":!e.showMore}},[e._v("\n            "+e._s(e.orderDescription.slice(0,e.orderDescription.length/2))+"\n            "),n("span",{staticClass:"dots"},[e._v("...")]),e._v(" "),n("span",{staticClass:"more"},[e._v(e._s(e.orderDescription.slice(e.orderDescription.length/2,e.orderDescription.length)))]),e._v(" "),e.showMore?e._e():n("a",{staticClass:"font-body-small d-flex ps-t-8 font-medium",attrs:{href:"#more-info"},on:{click:function(t){t.preventDefault(),e.showMore=!0}}},[e._v("More info")]),e._v(" "),e.showMore?n("a",{staticClass:"font-body-small d-flex ps-t-8 font-medium",attrs:{href:"#more-info"},on:{click:function(t){t.preventDefault(),e.showMore=!1}}},[e._v("Show less")]):e._e()]):n("p",{staticClass:"font-body-medium"},[e._v("\n            "+e._s(e.orderDescription)+"\n          ")]),e._v(" "),e.showListedDetails?n("div",{staticClass:"mt-auto"},[n("div",{staticClass:"font-body-small text-gray-300 ps-y-4"},[e._v("\n              Listed for\n            ")]),e._v(" "),e.erc20Token?n("div",{staticClass:"font-heading-large font-semibold ps-b-20"},[e._v("\n              "+e._s(e.order.price)+" "+e._s(e.erc20Token.symbol)+"\n            ")]):e._e(),e._v(" "),e.order.type===e.app.orderTypes.NEGOTIATION?n("div",{staticClass:"font-body-medium ps-b-20"},[e._v("\n              Minimum Price:\n              "),n("span",{staticClass:"font-semibold"},[e._v("\n                "+e._s(e.order.min_price)+" "+e._s(e.erc20Token.symbol)+"\n              ")])]):e._e(),e._v(" "),e.order.type===e.app.orderTypes.NEGOTIATION&&e.order.highest_bid?n("div",{staticClass:"font-body-medium ps-b-20"},[e._v("\n              Last Offer:\n              "),n("span",{staticClass:"font-semibold"},[e._v("\n                "+e._s(e.order.highest_bid)+" "+e._s(e.erc20Token.symbol)+"\n              ")])]):e._e()]):e._e(),e._v(" "),e.isOwnersToken||0!==e.order.status?e._e():n("button",{staticClass:"btn btn-primary",attrs:{disabled:e.isUser&&!e.validation.balance},on:{click:function(t){return e.buyOrder()}}},[e._v("\n            "+e._s(e.buttonVal)+"\n          ")]),e._v(" "),e.isInsufficientBalance&&!e.validation.balance&&0===e.order.status?n("div",{staticClass:"font-body-small text-danger text-center ps-t-12"},[e._v("\n            You have insufficient balance in your account\n          ")]):e._e(),e._v(" "),!e.isInsufficientBalance||0!==e.order.status||e.order.type!==e.app.orderTypes.FIXED&&e.validation.balance?e._e():n("div",{staticClass:"font-body-medium font-semibold text-primary text-center cursor-pointer ps-t-16",on:{click:function(t){e.depositModal=!0}}},[e._v("\n            Add Funds\n          ")]),e._v(" "),e.isOwnersToken&&0===e.order.status?n("button",{staticClass:"btn btn-light",on:{click:function(t){return e.onCancelOrder()}}},[e._v("\n            Cancel\n          ")]):e._e()])])]),e._v(" "),n("deposit-weth",{attrs:{show:e.depositModal,close:e.closeDepositModal}}),e._v(" "),e.showBuyToken&&e.order?n("buy-token",{attrs:{show:e.showBuyToken,order:e.order,category:e.category,refreshBids:e.refreshBids,close:e.onBuyTokenClose}}):e._e(),e._v(" "),e.showCancelConfirm?n("cancel-confirm",{attrs:{show:e.showCancelConfirm,order:e.order,category:e.category,isLoading:e.isLoading,accept:e.cancelOrder,close:e.onCancelOrderClose}}):e._e()],1):e._e(),e._v(" "),n("div",{staticClass:"row ps-x-16 ps-y-120 d-flex justify-content-center text-center"},[e.isLoadingDetails?n("button-loader",{staticClass:"mx-auto",attrs:{loading:e.isLoadingDetails,loadingText:e.$t("loading"),text:e.$t("loadMore"),block:"",lg:"",color:"light"}}):e._e()],1)])}),m,!1,null,"de14ea84",null).exports);function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var je=Object(f.a)({props:{},components:{TokenDetail:Ce},middleware:[],mixins:[]})(fe=function(e){Object(c.a)(r,e);var t=Te(r);function r(){var e;Object(n.a)(this,r);for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];return(e=t.call.apply(t,[this].concat(c))).tokenId=null,e}return Object(o.a)(r,[{key:"mounted",value:function(){this.tokenId=this.$route.params.id}}]),r}(h.default))||fe,Ae=je,Be=(r(3422),Object(ne.a)(Ae,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-fluid p-0"},[e.tokenId?r("token-detail",{attrs:{tokenId:e.tokenId}}):e._e()],1)}),[],!1,null,"fc1aa83c",null));t.default=Be.exports}}]);